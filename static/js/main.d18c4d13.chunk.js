(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{103:function(t,e,a){},105:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),c=a(11),o=a.n(c),l=a(18),s=a(17);a(28);var i=a(25);var u={addedItems:[],ItemsCount:0};var d=Object(s.c)({products:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_PRODUCTS":case"SORT_BY_PRICE":return e.products;default:return t}},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(console.log("action cart",e,t),e.type){case"ADDITEM":console.log("this.state",t);var a=t.state.state.addedItems.findIndex((function(t){return t.title===e.product.title}));-1==a&&t.state.state.addedItems.push(e.product);var n=Object(i.a)(Object(i.a)({},t),{},{ItemsCount:t.state.state.addedItems.length});return console.log("obj",n),n;case"REMOVEITEM":var r=t.state.state.addedItems.findIndex((function(t){return t.title===e.product.title}));console.log("index",r,t),-1!=r&&t.state.state.addedItems.splice(r,1);var c=Object(i.a)(Object(i.a)({},t),{},{ItemsCount:t.ItemsCount-1});return console.log("obj",c),c;default:return{state:t}}}}),p=(a(81),a(12)),m=a(13),h=a(15),f=a(14),E=function(t){Object(h.a)(a,t);var e=Object(f.a)(a);function a(){return Object(p.a)(this,a),e.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var t=this.props.products;return console.log("products",t),r.a.createElement("div",{className:"home"},r.a.createElement(j,{products:t}))}}]),a}(n.Component),v=function(){return"".concat("https://my-json-server.typicode.com/FUNWITJS-1/ecommerceData/","/products")};function b(){return function(t){var e=v();console.log("url",e),fetch(e).then((function(t){return console.log("response",t.body),t.json()})).then((function(e){console.log("data",e),t({type:"GET_PRODUCTS",products:e})}))}}function g(t){return function(e){e(function(t){return{type:"SORT_BY_PRICE",products:t}}(t.sort((function(t,e){return t.price<e.price?-1:t.price>e.price?1:0}))))}}a(82);var O=function(t){Object(h.a)(a,t);var e=Object(f.a)(a);function a(t){var n;return Object(p.a)(this,a),(n=e.call(this,t)).handleAddToCartClick=function(t){console.log("product click",n.state),n.props.dispatch(function(t){return function(e){console.log("add product",t),e(function(t){return{type:"ADDITEM",product:t}}(t))}}(t)),n.setState({added:!0}),console.log("this.state",n.state)},n.state={products:[],added:!1},n}return Object(m.a)(a,[{key:"sortProducts",value:function(t){this.props.dispatch(g(t)),this.forceUpdate(),console.log("this.state",this.state)}},{key:"render",value:function(){var t=this,e=this.props.products;return console.log("products",e),r.a.createElement("div",{className:"ProductContainer"},r.a.createElement("div",null,r.a.createElement("p",{className:"ProductsHeader"},"BRANDS"),r.a.createElement("button",{className:"right",onClick:function(){return t.sortProducts(e)}},"Sort"),this.state.added?r.a.createElement(x,null):null),r.a.createElement("div",null,r.a.createElement("h3",{className:"text-3xl sm:text-4xl leading-normal font-extrabold tracking-tight text-gray-900"},"Brand ",r.a.createElement("span",{className:"text-indigo-600"},"Shirts"))),e.map((function(e){return r.a.createElement("div",{className:"product-list"},r.a.createElement("ul",null,r.a.createElement("li",null,"  ",r.a.createElement("img",{src:e.imageUrl,alt:"t-shirt-pic"})),r.a.createElement("li",null,"Title :",e.title),r.a.createElement("li",null,"Price :",e.price),r.a.createElement("li",null,r.a.createElement("button",{className:"addtocart",onClick:function(){return t.handleAddToCartClick(e)}},"ADD TO CART"))))})))}}]),a}(n.Component);var j=Object(l.b)((function(t){return{products:t.products}}))(O),C=function(t){Object(h.a)(a,t);var e=Object(f.a)(a);function a(t){var n;return Object(p.a)(this,a),(n=e.call(this,t)).handleRemoveFromCartClick=function(t){n.props.dispatch(function(t){return function(e){console.log("add product",t),e(function(t){return{type:"REMOVEITEM",product:t}}(t))}}(t))},n.state={addedItems:[],ItemsCount:0},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var t=this.props.cart.state.state.addedItems;void 0!=t&&this.setState({addedItems:t})}},{key:"render",value:function(){var t=this,e=this.props.cart;console.log("props",this.props),console.log("cart",e.state.state);var a=e.state.state.addedItems;return console.log("addItems",a),r.a.createElement("div",{className:"ProductContainer"},r.a.createElement("div",null,r.a.createElement("p",{className:"ProductHeader"},"Cart Items")),void 0!=a&&a.map((function(e){return r.a.createElement("div",{className:"product-list"},r.a.createElement("ul",null,r.a.createElement("li",null,"  ",r.a.createElement("img",{src:e.imageUrl,alt:"t-shirt-pic"})),r.a.createElement("li",null,"Title :",e.title),r.a.createElement("li",null,"Price :",e.price),r.a.createElement("li",null,r.a.createElement("button",{className:"addtocart",onClick:function(){return t.handleRemoveFromCartClick(e)}},"Remove"))))})),0==e.length&&r.a.createElement("p",null,"Please Add Items to cart!"))}}]),a}(n.Component);var I=Object(l.b)((function(t){return{cart:t.cart}}))(C),y=a(9),k=function(t){Object(h.a)(a,t);var e=Object(f.a)(a);function a(t){var n;return Object(p.a)(this,a),(n=e.call(this,t)).ItemsCount=0,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({ItemsCount:this.props})}},{key:"render",value:function(){var t=this.props.ItemsCount;return console.log("props in navbar",this.props),r.a.createElement("nav",{className:"nav-wrapper"},r.a.createElement("div",{id:"brand"},r.a.createElement(y.b,{to:"/",className:"brand-logo"},"Shopping")),r.a.createElement("div",null,r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(y.b,{to:"/"},"Shop")),r.a.createElement("li",null,r.a.createElement(y.b,{to:"/cart"},"My cart")),r.a.createElement("li",null,r.a.createElement(y.b,{to:"/cart"},r.a.createElement("i",{class:"fa fa-shopping-cart"},t))))))}}]),a}(n.Component),N=a(57),x=function(t){Object(h.a)(a,t);var e=Object(f.a)(a);function a(){return Object(p.a)(this,a),e.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(N.e,{autohide:1e3,bodyClassName:"p-5 font-weight-bold white-text",className:"stylish-color-dark",closeClassName:"blue-grey-text",fade:!0,icon:"bell",iconClassName:"blue-grey-text",message:"Item Added to cart",show:!0,text:"Contine Shopping!",title:"Notification",titleClassName:"elegant-color-dark white-text",style:{width:"auto",position:"fixed",top:"50px",right:"20px",zIndex:9999}})}}]),a}(n.Component),T=a(6),S=(a(103),a(104),function(t){Object(h.a)(a,t);var e=Object(f.a)(a);function a(){return Object(p.a)(this,a),e.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(b())}},{key:"render",value:function(){var t=this.props,e=t.products,a=t.cart;return console.log("this.props",this.props),r.a.createElement(y.a,null,r.a.createElement("div",null,r.a.createElement(k,{ItemsCount:a.ItemsCount}),r.a.createElement(T.c,null,r.a.createElement(T.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(E,Object.assign({},t,{products:e}))}}),r.a.createElement(T.a,{path:"/cart",render:function(t){return r.a.createElement(I,Object.assign({},t,{addedItems:a}))}}))))}}]),a}(n.Component));var D=Object(l.b)((function(t){return{products:t.products,cart:t.cart}}))(S),P=a(55),R=a(56),M=a.n(R);var w=Object(s.d)(d,Object(s.a)(P.a,M.a));o.a.render(r.a.createElement(l.a,{store:w},r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null))),document.getElementById("root"))},58:function(t,e,a){t.exports=a(105)}},[[58,1,2]]]);
//# sourceMappingURL=main.d18c4d13.chunk.js.map